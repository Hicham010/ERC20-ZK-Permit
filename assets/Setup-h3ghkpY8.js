import{r as H,u as M,a as O,b as z,Z as F,c as Z,d as w,f as j,j as e,B as y,t as D,_ as V,n as $,z as q,E as n}from"./index-NPCOLHFI.js";import{n as G}from"./index-Mjj1b2Hn.js";import{I as J}from"./index-MIVlXdtZ.js";import{m as K}from"./index-wV9eLQJP.js";function es(){var p,x;const[C,b]=G.useNotification(),[L,r]=H.useState(!1),[c,T]=H.useState(""),{address:t=q,isConnected:d}=M(),l=O(),{data:h=[],refetch:u,isRefetching:g}=z({contracts:[{...n,functionName:"balanceOf",args:[t]},{...n,functionName:"userHash",args:[t]}],enabled:d,watch:!0}),_=((p=h[0])==null?void 0:p.result)??0n,P=((x=h[1])==null?void 0:x.result)??F,f=(s,i)=>{C.success({message:s,description:e.jsx("a",{href:`https://sepolia.etherscan.io/tx/${i}`,target:"_blank",rel:"noopener noreferrer",children:"Transaction Link"})})},{config:k}=Z({...n,functionName:"mint",args:[t,1000n],enabled:d}),{data:a,isLoading:B,write:E}=w({...k,onSuccess:({hash:s})=>{f("Mint Successful",s),l({hash:s,description:"Minted Tokens"})}}),{data:o,isLoading:I,write:m}=w({...n,functionName:"setUserHash",onSuccess:({hash:s})=>{f("Setting User Hash Successful",s),l({hash:s,description:"New user hash set"})}}),{isLoading:N}=j({hash:a==null?void 0:a.hash,onSuccess(){u()}}),{isLoading:U}=j({hash:o==null?void 0:o.hash,onSuccess(){u()}}),A=async()=>{if(m){r(!0);try{const s=BigInt(D(c)).toString(),i="0",{buildPoseidon:R}=await V(()=>import("./main-bgByDOaf.js"),__vite__mapDeps([0,1,2,3])),S=await R(),W=S.F.toString(S([s,i,t])),v=$(BigInt(W),{size:32});m({args:[v]})}catch(s){console.error(s),s instanceof Error&&K.error("Something went wrong setting the user hash: "+s.message)}r(!1)}};return e.jsxs(e.Fragment,{children:[b,e.jsxs("p",{style:{opacity:U||g?.25:1},children:["Current User Hash: ",P]}),e.jsxs("div",{style:{display:"flex"},children:[e.jsx(J.Password,{maxLength:30,minLength:8,onChange:s=>T(s.target.value)}),e.jsx(y,{disabled:c.length<8,loading:L||I,style:{marginLeft:"50px"},onClick:A,children:"Set Password"})]}),e.jsx("br",{}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline"},children:[e.jsxs("p",{style:{opacity:N||g?.25:1},children:["Current Balance: ",(_/BigInt(1e18)).toString()]}),e.jsx(y,{loading:B,style:{marginLeft:"50px"},onClick:E,children:"Mint 10 000 Tokens"})]})]})}export{es as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/main-bgByDOaf.js","assets/index-NPCOLHFI.js","assets/index-VcEOFO0W.css","assets/readable-browser-YI1Z-mTJ.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
